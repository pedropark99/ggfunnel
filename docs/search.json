[{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 ggfunnel authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/articles/funnel.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Building a funnel chart, and customizing its output","text":"ggfunnel package uses ggplot2 build Power BI like funnel chart. main functionality package available trough ggfunnel::funnel() function. just give data.frame data function, specify columns levels values funnel chart. ggfunnel::funnel() function rest :","code":"library(ggfunnel) # Using the `ggfunnel::aggregates` data.frame as example: print(ggfunnel::aggregates) #>   Step N_users #> 1    A    4389 #> 2    B    3100 #> 3    C    2005 #> 4    D     500 #> 5    E     120 # Ploting a funne chart that shows the distribution of users # across the different \"steps\". plot <- ggfunnel::aggregates |>   ggfunnel::funnel(     values = N_users, levels = Step   )  print(plot)"},{"path":"/articles/funnel.html","id":"how-it-works","dir":"Articles","previous_headings":"","what":"How it works ?","title":"Building a funnel chart, and customizing its output","text":"essence, ggfunnel::funnel() function uses ggplot2::geom_tile() geom ggplot2 draw rectangles composes funnel chart. Optionally (depending value labels argument), function use ggplot2::geom_text() geom well draw labels plot. rectangles drawn ggplot2::geom_tile(), centered fixed point x axis (usually zero) uses height ratio (currently 0.8 default). widths vary depending percentage represent max value funnel. words, take 3100 value plot previous example, 3100 approximately 70% maximum value found set (4389). result, width rectangle represents 3100 value approximately 0.7. maximum value set always top rectangle funnel, minimum value set always bottom rectangle funnel. Since top rectangle funnel represent maximum value set, width always 1, value represents 100% maximum value set. Therefore, widths rectangle percentage value represent maximum value set.","code":""},{"path":"/articles/funnel.html","id":"using-the-stat-argument-to-aggregate-data","dir":"Articles","previous_headings":"","what":"Using the stat argument to aggregate data","title":"Building a funnel chart, and customizing its output","text":"default, ggfunnel::funnel() always try aggregate data deliver. can use stat argument change behaviour. Lets take df object example: letter column clearly kind categorical data, value column contains numerical data might want visualize funnel chart. give df object, , ggfunnel::funnel(), two things happens df object shipped ggplot2::ggplot(), start ggplot2 chart:  First, ggfunnel::funnel() group data inside df object using dplyr::group_by(). data always grouped using column gave levels argument. words, data always grouped using categorical data want use funnel chart. Second, grouped given data.frame, ggfunnel::funnel() aggregate data using dplyr::summarise(). operation applied inside dplyr::summarise() function depends value configured stat argument. stat argument accepts three string values, : \"sum\": default, aggregates data summing values column; \"count\": aggregates data counting number rows value levels column; \"identity\": aggregate data, just interpret data ; default, ggfunnel::funnel() uses \"sum\" value stat argument, means applies sum() function column gave values argument. words, applies sum() function numerical data want present funnel chart. mind, resulting aggregated data df object used plot, : data.frame data used build funnel chart, original df object. ggfunnel::funnel() function designed work, funnel chart chart visualize aggregated data. words, funnel charts commonly used visualize raw data, , lots observations time. , deliver raw data ggfunnel::funnel() try aggregate data default. However, although useful feature, might want suppress . words, might already aggregated data inside data.frame, , just want visualize funnel chart, without aggregating . use data, , funnel chart, just need set stat argument \"identity\" (stat = \"identity\"). way, ggfunnel::funnel() understands already aggregated dataset, , therefore, needs transformations.","code":"set.seed(15) df <- data.frame(   letter = c(\"A\", \"A\", \"A\", \"B\", \"C\", \"C\", \"D\"),   value = sample(320:5400, size = 7) )  df #>   letter value #> 1      A  4910 #> 2      A  2017 #> 3      A  4592 #> 4      B   580 #> 5      C  4398 #> 6      C  1706 #> 7      D   915 ggfunnel::funnel(   df, levels = letter, values = value ) df |>    dplyr::group_by(letter) |>    dplyr::summarise(value = sum(value)) #> # A tibble: 4 × 2 #>   letter value #>   <chr>  <int> #> 1 A      11519 #> 2 B        580 #> 3 C       6104 #> 4 D        915"},{"path":"/articles/funnel.html","id":"how-to-customize-the-output","dir":"Articles","previous_headings":"","what":"How to customize the output ?","title":"Building a funnel chart, and customizing its output","text":"ggfunnel::funnel() uses default theme specifications resulting plot. might want customize aspects output. case, can use tile_specs, text_specs theme arguments ggfunnel::funnel() apply customizations.","code":""},{"path":"/articles/funnel.html","id":"customizing-the-rectangles","dir":"Articles","previous_headings":"How to customize the output ?","what":"Customizing the rectangles","title":"Building a funnel chart, and customizing its output","text":"want change aspects rectangles form funnel chart, , means want change specifications ggplot2::geom_tile() used build chart. example, commom might want change rectangles filling color . , must use tile_specs argument ggfunnel::funnel(). give list new color want apply fill element, like example :  new color passed fill argument ggplot2::geom_tile(). means change default value associated argument ggplot2::geom_tile() list given tile_specs. another example, change heights contour color rectangles setting height colour elements list. Like :","code":"plot <- ggfunnel::aggregates |>   ggfunnel::funnel(     values = N_users, levels = Step,     tile_specs = list(fill = \"#eb4034\")   )  print(plot) plot <- ggfunnel::aggregates |>   ggfunnel::funnel(     values = N_users, levels = Step,     tile_specs = list(       fill = \"#eb4034\",       height = 0.4,       colour = \"blue\"     )   )  print(plot)"},{"path":"/articles/funnel.html","id":"customizing-the-labels","dir":"Articles","previous_headings":"How to customize the output ?","what":"Customizing the labels","title":"Building a funnel chart, and customizing its output","text":"can also customize labels used plot. just follow exact process customize ggplot2::geom_tile() used plot. , give text_specs argument list new values want use argument ggplot2::geom_text(). example, change size, color font used labels setting size, colour family elements list, like :  common tweak might want make plot, nudge labels right, left, specific amount. , give vector nudge_x element list. element vector offset value added position label. example , nudging last label right (use negative offset value nudge label left).  Another thing might want , apply specific color labels, , apply another color set labels. , take similar approach example, , give vector colour element list provided text_specs. example , coloring labels white, except last one, now black.","code":"plot <- ggfunnel::aggregates |>   ggfunnel::funnel(     values = N_users, levels = Step,     text_specs = list(       colour = \"#eb4034\",       family = \"serif\",       size = 10     )   )  print(plot) plot <- ggfunnel::aggregates |>   ggfunnel::funnel(     values = N_users, levels = Step,     text_specs = list(       colour = \"#eb4034\",       nudge_x = c(rep(0, times = 4), 0.1)     )   )  print(plot) plot <- ggfunnel::aggregates |>   ggfunnel::funnel(     values = N_users, levels = Step,     text_specs = list(       nudge_x = c(rep(0, times = 4), 0.05),       colour = c(rep(\"white\", times = 4), \"black\")     )   )  print(plot)"},{"path":"/articles/funnel.html","id":"adding-more-elements-to-the-plot","dir":"Articles","previous_headings":"How to customize the output ?","what":"Adding more elements to the plot","title":"Building a funnel chart, and customizing its output","text":"Since ggfunnel::funnel() returns output, raw ggplot object describes funnel chart, can also add much content plot adding new geoms, themes, titles scales, normally kind ggplot2 plot. example , adding title subtitle plot, adjusting theme, adding notes arrows emphasize parts plot.","code":"plot <- ggfunnel::aggregates |>   ggfunnel::funnel(     values = N_users, levels = Step,     text_specs = list(       nudge_x = c(rep(0, times = 4), 0.05),       colour = c(rep(\"white\", times = 4), \"black\")     )   )  note <- \"We lost **75% of the users**<br>from step \\\"C\\\" to step \\\"D\\\"\"  plot +   ggplot2::labs(     title = \"Funnel of users in each step of the sales path\",     subtitle = \"The biggest loss of users is at the \\\"D\\\" step\",     y = NULL   ) +   ggplot2::theme(     plot.title = ggplot2::element_text(face = \"bold\", size = 16),     plot.title.position = \"plot\"   ) +   ggtext::geom_richtext(     ggplot2::aes(x = 0.35, y = \"D\",     label = note),     label.color = NA   ) +   ggplot2::geom_segment(     ggplot2::aes(x = 0.17, xend = 0.07, y = \"D\", yend = \"D\"),      arrow = ggplot2::arrow(       length = ggplot2::unit(0.25, \"cm\")     )   )"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Pedro Duarte Faria. Maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Faria PD (2023). ggfunnel: 'R' package create 'Power BI' like funnel charts.. R package version 0.1.0.","code":"@Manual{,   title = {ggfunnel: A 'R' package to create 'Power BI' like funnel charts.},   author = {Pedro Duarte Faria},   year = {2023},   note = {R package version 0.1.0}, }"},{"path":[]},{"path":"/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"A R package to create Power BI like funnel charts.","text":"{ggfunnel} R package uses ggplot2 create Power BI like funnel charts R. ggfunnel::funnel() main function package, responsible producing plot. basic example produce following plot:","code":"library(ggfunnel) plot <- ggfunnel::aggregates |>   ggfunnel::funnel(     values = N_users, levels = Step   )  print(plot)"},{"path":"/index.html","id":"a-simple-approach","dir":"","previous_headings":"","what":"A simple approach","title":"A R package to create Power BI like funnel charts.","text":"{ggfunnel} far perfect, contain literally might want/need building funnel chart. {ggfunnel} takes minimal simple approach problem. makes assumptions data might hold, contain features might find Power BI. , even simple package, since ggfunnel::funnel() returns raw ggplot object describes funnel chart, gives freedom customize (complement) output way might need (see vignette(\"funnel\") details customize/complement ggfunnel::funnel() output). However, package needs work robust complete piece code, sure. think can make {ggfunnel} better happy review PR !","code":""},{"path":"/reference/default_text_specs.html","id":null,"dir":"Reference","previous_headings":"","what":"Default specifications for the ggplot2::geom_text() geom — default_text_specs","title":"Default specifications for the ggplot2::geom_text() geom — default_text_specs","text":"ggfunnel::default_text_specs store list default values used ggplot2::geom_text() geom arguments.","code":""},{"path":"/reference/default_text_specs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Default specifications for the ggplot2::geom_text() geom — default_text_specs","text":"","code":"default_text_specs"},{"path":"/reference/default_text_specs.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Default specifications for the ggplot2::geom_text() geom — default_text_specs","text":"object class list length 16.","code":""},{"path":"/reference/default_text_specs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Default specifications for the ggplot2::geom_text() geom — default_text_specs","text":"argument labels ggfunnel::funnel() set TRUE, , ggplot2::geom_text() geom used print value labels funnel chart. ggfunnel::funnel() fill arguments ggplot2::geom_text() geom values present ggfunnel::default_text_specs. can change values using text_specs argument ggfunnel::funnel().","code":""},{"path":"/reference/default_tile_specs.html","id":null,"dir":"Reference","previous_headings":"","what":"Default specifications for the ggplot2::geom_tile() geom — default_tile_specs","title":"Default specifications for the ggplot2::geom_tile() geom — default_tile_specs","text":"ggfunnel::default_tile_specs store list default values used ggplot2::geom_tile() geom arguments.","code":""},{"path":"/reference/default_tile_specs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Default specifications for the ggplot2::geom_tile() geom — default_tile_specs","text":"","code":"default_tile_specs"},{"path":"/reference/default_tile_specs.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Default specifications for the ggplot2::geom_tile() geom — default_tile_specs","text":"object class list length 11.","code":""},{"path":"/reference/default_tile_specs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Default specifications for the ggplot2::geom_tile() geom — default_tile_specs","text":"ggfunnel::funnel() uses ggplot2::geom_tile() geom build rectangles present funnel chart, fill arguments ggplot2::geom_tile() geom values present ggfunnel::default_tile_specs. can change values using tile_specs argument ggfunnel::funnel().","code":""},{"path":"/reference/funnel.html","id":null,"dir":"Reference","previous_headings":"","what":"Build a Power BI like funnel chart. — funnel","title":"Build a Power BI like funnel chart. — funnel","text":"function best build Power BI like funnel chart. function outputs raw ggplot object describes funnel chart. consequence, explicit call object produced, , use functions like print() visualize chart.","code":""},{"path":"/reference/funnel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build a Power BI like funnel chart. — funnel","text":"","code":"funnel(   data,   values,   levels,   stat = \"sum\",   labels = TRUE,   tile_specs = list(),   text_specs = list(),   theme = ggplot2::theme() )"},{"path":"/reference/funnel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build a Power BI like funnel chart. — funnel","text":"data data.frame data; values column name values want display funnel chart. words, numerical data want visualize chart; levels column name \"levels\" (\"groups\") want display funnel chart. words, categorical data identifies level funnel; stat string stat want use aggregate data. Defaults \"sum\". labels Use ggplot2::geom_text() add labels rectangle chart. Defaults TRUE. tile_specs list values used options/arguments ggplot2::geom_tile() geom. text_specs list values used options/arguments ggplot2::text_specs() geom. theme Accepts ggplot2::theme object user customize theme chart.","code":""},{"path":"/reference/funnel.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Build a Power BI like funnel chart. — funnel","text":"essence, ggfunnel::funnel() uses ggplot2::geom_tile() geom build funnel chart. Since best attempt, function also gives freedom change specifications geoms plot, case perform well. can change specifications using tile_specs text_specs arguments. arguments accepts list key-value pairs. key-value pair can define value want use specific option/argument ggplot2::geom_tile() ggplot2::geom_text() geoms, respectively. can see available argument/options can set tile_specs text_specs checking result names(ggfunnel::default_tile_specs) names(ggfunnel::default_text_specs), respectively. can also change theme elements chart giving ggplot2::theme object theme argument, desired specifications. stat argument controls whether want aggregate data. stat = \"sum\" stat = \"count\", ggfunnel::funnel() use sum() dplyr::count() aggregate data. Use stat = \"sum\" numeric data, stat = \"count\" categorical data. Use stat = \"identity\" data already aggregated, just want print values . default, ggfunnel::funnel() uses labels = TRUE, includes value labels resulting plot. use labels = FALSE, value labels suppressed, , consequence, ggplot2::geom_text() geom added plot.","code":""},{"path":"/reference/funnel.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build a Power BI like funnel chart. — funnel","text":"","code":"library(ggfunnel) # Using the `ggfunnel::aggregates` data.frame as example: print(ggfunnel::aggregates) #> # A tibble: 5 × 2 #>   Step  N_users #>   <chr>   <dbl> #> 1 A        4389 #> 2 B        3100 #> 3 C        2005 #> 4 D         500 #> 5 E         120 # Ploting a funne chart that shows the distribution of users # across the different \"steps\". plot <- ggfunnel::aggregates |> ggfunnel::funnel(   values = N_users, levels = Step )  print(plot)"}]
